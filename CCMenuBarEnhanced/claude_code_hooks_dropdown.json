{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "ccmenubar \"ğŸ‘‹ Claude ready!\" && ccmenubar --clear-all"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "prompt=$(echo \"$(cat)\" | jq -r '.prompt' | head -c 50); ccmenubar \"ğŸ¤” Thinking...\" && ccmenubar --add-task \"$prompt\" \"ğŸ’­\""
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "task=$(echo \"$(cat)\" | jq -r '.tool_input.task // \"task\"' | head -c 40); ccmenubar \"ğŸ¤– Subagent\" && ccmenubar --add-task \"$task\" \"ğŸ¤–\""
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "cmd=$(echo \"$(cat)\" | jq -r '.tool_input.command' | head -c 40); ccmenubar \"ğŸ–¥ï¸ Running...\" && ccmenubar --add-task \"Shell: ${cmd}...\" \"ğŸ–¥ï¸\""
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(echo \"$(cat)\" | jq -r '.tool_input.file_path'); ccmenubar \"ğŸ“ Writing...\" && ccmenubar --add-file \"$file\" \"ğŸ“\""
          }
        ]
      },
      {
        "matcher": "Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(echo \"$(cat)\" | jq -r '.tool_input.file_path // .tool_input.files[0].file_path'); ccmenubar \"âœï¸ Editing...\" && ccmenubar --add-file \"$file\" \"âœï¸\""
          }
        ]
      },
      {
        "matcher": "Read",
        "hooks": [
          {
            "type": "command",
            "command": "file=$(echo \"$(cat)\" | jq -r '.tool_input.file_path'); ccmenubar \"ğŸ“– Reading...\" && ccmenubar --add-file \"$file\" \"ğŸ“–\""
          }
        ]
      },
      {
        "matcher": "Grep",
        "hooks": [
          {
            "type": "command",
            "command": "pattern=$(echo \"$(cat)\" | jq -r '.tool_input.pattern' | head -c 30); ccmenubar \"ğŸ” Searching...\" && ccmenubar --add-task \"Search: $pattern\" \"ğŸ”\""
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "exit_code=$(echo \"$(cat)\" | jq -r '.tool_response.exit_code // .tool_response.exitCode // 0'); if [ \"$exit_code\" = \"0\" ]; then ccmenubar \"âœ… Shell OK\" && ccmenubar --clear-tasks; else ccmenubar \"âš ï¸ Exit: $exit_code\"; fi"
          }
        ]
      },
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "# Update file count in menu\nfile_count=$(ccmenubar --status 2>&1 | grep -q running && find . -name '*.py' -o -name '*.js' -o -name '*.ts' 2>/dev/null | wc -l || echo 0); ccmenubar --menu-items \"Files edited: $file_count\" \"Last save: $(date '+%H:%M:%S')\""
          }
        ]
      },
      {
        "matcher": "Grep",
        "hooks": [
          {
            "type": "command",
            "command": "matches=$(echo \"$(cat)\" | jq -r '.tool_response.matches // [] | length' 2>/dev/null || echo 0); ccmenubar \"ğŸ“Š Found $matches matches\" && ccmenubar --menu-items \"Search results: $matches\""
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "ccmenubar \"ğŸ¤– Subagent done\" && ccmenubar --clear-tasks"
          }
        ]
      }
    ],
    "Notification": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "msg=$(echo \"$(cat)\" | jq -r '.message'); ccmenubar \"â— Attention!\" && ccmenubar --add-todo \"$msg\" \"â—\""
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "# Create summary stats\nfiles=$(find . -name '*.py' -o -name '*.js' -o -name '*.ts' 2>/dev/null | wc -l || echo 0); \ntodos=$(ccmenubar --status 2>&1 | grep -q running && echo \"Check menu for todos\" || echo \"0\"); \nccmenubar \"âœ… Task complete!\" && \nccmenubar --menu-items \"Session complete\" \"Files processed: $files\" \"Time: $(date '+%H:%M')\" && \nccmenubar --add-todo \"Review changes\" \"â¬œ\" && \nccmenubar --add-todo \"Test implementation\" \"â¬œ\" && \nccmenubar --add-todo \"Commit to git\" \"â¬œ\""
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "ccmenubar \"ğŸ—œï¸ Compacting...\" && ccmenubar --add-task \"Memory cleanup\" \"ğŸ—œï¸\""
          }
        ]
      }
    ]
  }
}
